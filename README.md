### Домашнее задание №18 (IP)
#### Теоретическая часть:
1. Сеть Office1:
- Dev (192.168.2.0/26):
    - Hosts: 62;
    - First Host: 192.168.2.1;
    - Last host: 192.168.2.62;
    - Broadcast 192.168.2.63;
- Test servers (192.168.2.64/26):
    - Hosts: 62;
    - First Host: 192.168.2.65;
    - Last host: 192.168.2.126;
    - Broadcast 192.168.2.127;
- Managers (192.168.2.128/26):
    - Hosts: 62;
    - First Host: 192.168.2.129;
    - Last host: 192.168.2.190;
    - Broadcast 192.168.2.191;
- Office hardware (192.168.2.192/26):
    - Hosts: 62;
    - First Host: 192.168.2.193;
    - Last host: 192.168.2.254;
    - Broadcast 192.168.2.255;
- Свободных подсетей нет;
___

2. Сеть Office2:
- Dev (192.168.1.0/25):
    - Hosts: 126;
    - First Host: 192.168.1.1;
    - Last host: 192.168.1.126;
    - Broadcast 192.168.1.127;
- Test servers (192.168.1.128/26):
    - Hosts: 62;
    - First Host: 192.168.1.129;
    - Last host: 192.168.1.190;
    - Broadcast 192.168.1.191;
- Office hardware (192.168.1.192/26):
    - Hosts: 62;
    - First Host: 192.168.1.193;
    - Last host: 192.168.1.254;
    - Broadcast 192.168.1.255;
- Свободных подсетей нет;
___
3. Сеть central:
- Directors (192.168.0.0/28):
    - Hosts: 14;
    - First Host: 192.168.0.1;
    - Last host: 192.168.0.14;
    - Broadcast 192.168.0.15;
- Office hardware (192.168.0.32/28):
    - Hosts: 14;
    - First Host: 192.168.0.33;
    - Last host: 192.168.0.46;
    - Broadcast 192.168.0.47;
- Wifi (192.168.0.64/26):
    - Hosts: 62;
    - First Host: 192.168.0.65;
    - Last host: 192.168.0.126;
    - Broadcast 192.168.0.127;
- Предложение по модернизации разбиения подсети central:
    - Wifi (192.168.0.0/26):
        - Hosts: 62
        - First Host: 192.168.0.1;
        - Last host: 192.168.0.62;
        - Broadcast 192.168.0.63;
    - Office hardware (192.168.0.64/28):
        - Hosts: 14
        - First Host: 192.168.0.65;
        - Last host: 192.168.0.78;
        - Broadcast 192.168.0.79;
    - Directors (192.168.0.80/28):
        - Hosts: 14
        - First Host: 192.168.0.81;
        - Last host: 192.168.0.94;
        - Broadcast 192.168.0.95;
    - В итоге модернизации разбиения сети central удалось высвободить ~28 свободных IP адресов (2 свободные подсети). В данной подсети еще свободныЖ 192.168.0.96 с маской 27 и 192.168.0.128 с маской 25.

___
#### Практическая часть:
1. Vagrantfile поднимает 7 виртуальных машин: inetRouter, centralRouter,office1Router, office2Router, office1Server, office2Server, centralServer.
В Vagrantfile производятся следующие настройки:
- настроены сетевые интерфейсы на всех ВМ согласно таблице в теоретической части;
- для всех ВМ отключен дефлотный маршрут через создаваемы vagrant сетевой интерфейс (eth0);
- для всех ВМ прописаны шлюзы до их роутеров (eth1);
2. Написан ansible playbook:
- плейбук прописывает необходмые маршруты на ВМ для выполнения ДЗ (все ВМ должны иметь доступ друг к другу);
- на всех ВМ для удобства выполнения ДЗ устанавливается traceroute;
- на роутерах включается решим маршрутизации пакетов;
- производится перезапуск службы network для применения настроек.
3. Проведенные проверки:
- пинг яндекса с office2Server
```console
[vagrant@office2Server ~]$ traceroute ya.ru
traceroute to ya.ru (87.250.250.242), 30 hops max, 60 byte packets
 1  gateway (192.168.1.1)  0.255 ms  0.234 ms  0.218 ms
 2  192.168.255.10 (192.168.255.10)  0.519 ms  0.505 ms  0.492 ms
 3  192.168.255.1 (192.168.255.1)  0.704 ms  0.642 ms  0.624 ms
 4  * * *
 5  * * *
 6  * * *
 7  * * *
 8  213.79.127.21 (213.79.127.21)  26.949 ms  4.138 ms  4.366 ms
 9  * vla-32z3-ae3.yndx.net (93.158.160.155)  15.508 ms vla-32z3-ae2.yndx.net (93.158.172.23)  15.286 ms
10  * * *
11  ya.ru (87.250.250.242)  8.294 ms  9.946 ms  7.755 ms
```
- пинг office1Server с office2Server
```console
[vagrant@office2Server ~]$ traceroute 192.168.2.2
traceroute to 192.168.2.2 (192.168.2.2), 30 hops max, 60 byte packets
 1  gateway (192.168.1.1)  0.405 ms  0.383 ms  0.369 ms
 2  192.168.255.10 (192.168.255.10)  0.821 ms  0.695 ms  0.664 ms
 3  192.168.255.6 (192.168.255.6)  0.892 ms  0.880 ms  0.797 ms
 4  192.168.2.2 (192.168.2.2)  1.246 ms  1.216 ms  1.162 ms
```